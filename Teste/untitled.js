var common = [{'text': 'aurélia', 'size': 623},
 {'text': 'seixas', 'size': 457},
 {'text': 'é', 'size': 397},
 {'text': 'moça', 'size': 270},
 {'text': 'marido', 'size': 216},
 {'text': 'ainda', 'size': 168},
 {'text': 'mulher', 'size': 167},
 {'text': 'casa', 'size': 144},
 {'text': 'havia', 'size': 137},
 {'text': 'fernando', 'size': 131},
 {'text': 'amor', 'size': 121},
 {'text': 'disse', 'size': 116},
 {'text': 'senhor', 'size': 111},
 {'text': 'lemos', 'size': 111},
 {'text': 'tempo', 'size': 110},
 {'text': 'alma', 'size': 110},
 {'text': 'casamento', 'size': 109},
 {'text': 'noite', 'size': 109},
 {'text': 'senhora', 'size': 102},
 {'text': 'onde', 'size': 102},
 {'text': 'pois', 'size': 100},
 {'text': 'tão', 'size': 98},
 {'text': 'ser', 'size': 98},
 {'text': 'vez', 'size': 97},
 {'text': 'homem', 'size': 96},
 {'text': 'porém', 'size': 95},
 {'text': 'então', 'size': 94},
 {'text': 'sobre', 'size': 92},
 {'text': 'olhos', 'size': 90},
 {'text': 'sala', 'size': 90},
 {'text': 'bem', 'size': 89},
 {'text': 'dessa', 'size': 89},
 {'text': 'momento', 'size': 88},
 {'text': 'antes', 'size': 85},
 {'text': 'si', 'size': 85},
 {'text': 'velho', 'size': 77},
 {'text': 'palavras', 'size': 76},
 {'text': 'mão', 'size': 76},
 {'text': 'vida', 'size': 76},
 {'text': 'assim', 'size': 75},
 {'text': 'firmina', 'size': 74},
 {'text': 'nunca', 'size': 73},
 {'text': 'outra', 'size': 71},
 {'text': 'desde', 'size': 70},
 {'text': 'porta', 'size': 70},
 {'text': 'mãe', 'size': 70},
 {'text': 'dia', 'size': 69},
 {'text': 'olhar', 'size': 69},
 {'text': 'todo', 'size': 67},
 {'text': 'outro', 'size': 67},
 {'text': 'ter', 'size': 67},
 {'text': 'agora', 'size': 66},
 {'text': 'todos', 'size': 65},
 {'text': 'podia', 'size': 65},
 {'text': 'moço', 'size': 65},
 {'text': 'mundo', 'size': 63},
 {'text': 'menina', 'size': 62},
 {'text': 'talvez', 'size': 62},
 {'text': 'braço', 'size': 60},
 {'text': 'sociedade', 'size': 60},
 {'text': 'alguma', 'size': 59},
 {'text': 'tarde', 'size': 59},
 {'text': 'ia', 'size': 58},
 {'text': 'logo', 'size': 57},
 {'text': 'nesse', 'size': 56},
 {'text': 'instante', 'size': 56},
 {'text': 'tudo', 'size': 55},
 {'text': 'espírito', 'size': 55},
 {'text': 'vezes', 'size': 55},
 {'text': 'sempre', 'size': 54},
 {'text': 'contos', 'size': 53},
 {'text': 'lábios', 'size': 53},
 {'text': 'camargo', 'size': 53},
 {'text': 'meio', 'size': 52},
 {'text': 'papel', 'size': 52},
 {'text': 'nessa', 'size': 52},
 {'text': 'adelaide', 'size': 52},
 {'text': 'algum', 'size': 52},
 {'text': 'senão', 'size': 52},
 {'text': 'palavra', 'size': 52},
 {'text': 'cabeça', 'size': 52},
 {'text': 'mim', 'size': 52},
 {'text': 'dias', 'size': 51},
 {'text': 'voz', 'size': 51},
 {'text': 'razão', 'size': 51},
 {'text': 'duas', 'size': 51},
 {'text': 'ali', 'size': 51},
 {'text': 'toda', 'size': 50},
 {'text': 'família', 'size': 49},
 {'text': 'dinheiro', 'size': 49},
 {'text': 'mesma', 'size': 48},
 {'text': 'cousa', 'size': 48},
 {'text': 'posição', 'size': 48},
 {'text': 'fez', 'size': 48},
 {'text': 'fazer', 'size': 47},
 {'text': 'perguntou', 'size': 47},
 {'text': 'sorriso', 'size': 46},
 {'text': 'viúva', 'size': 46},
 {'text': 'emília', 'size': 46},
 {'text': 'todas', 'size': 46},
 {'text': 'menos', 'size': 46},
 {'text': 'maior', 'size': 45},
 {'text': 'apenas', 'size': 45},
 {'text': 'coração', 'size': 45},
 {'text': 'desse', 'size': 45},
 {'text': 'parte', 'size': 45},
 {'text': 'direito', 'size': 44},
 {'text': 'modo', 'size': 44},
 {'text': 'devia', 'size': 44},
 {'text': 'respondeu', 'size': 43},
 {'text': 'neste', 'size': 43},
 {'text': 'pode', 'size': 43},
 {'text': 'nada', 'size': 43},
 {'text': 'beleza', 'size': 42},
 {'text': 'primeiro', 'size': 42},
 {'text': 'aqui', 'size': 42},
 {'text': 'primeira', 'size': 42},
 {'text': 'paixão', 'size': 42},
 {'text': 'horas', 'size': 42},
 {'text': 'pouco', 'size': 42},
 {'text': 'quanto', 'size': 41},
 {'text': 'gesto', 'size': 41},
 {'text': 'semblante', 'size': 41},
 {'text': 'toucador', 'size': 40},
 {'text': 'idéia', 'size': 40},
 {'text': 'ribeiro', 'size': 39},
 {'text': 'pessoa', 'size': 39},
 {'text': 'luz', 'size': 38},
 {'text': 'mesa', 'size': 38},
 {'text': 'tanto', 'size': 38},
 {'text': 'melhor', 'size': 38},
 {'text': 'deu', 'size': 37},
 {'text': 'outras', 'size': 37},
 {'text': 'sofá', 'size': 37},
 {'text': 'hora', 'size': 37},
 {'text': 'qualquer', 'size': 37},
 {'text': 'aí', 'size': 36},
 {'text': 'rua', 'size': 36},
 {'text': 'outros', 'size': 36},
 {'text': 'ocasião', 'size': 35},
 {'text': 'réis', 'size': 35},
 {'text': 'verdade', 'size': 35},
 {'text': 'algumas', 'size': 35},
 {'text': 'porque', 'size': 35},
 {'text': 'certo', 'size': 34},
 {'text': 'quer', 'size': 34},
 {'text': 'apesar', 'size': 34},
 {'text': 'ninguém', 'size': 34},
 {'text': 'felicidade', 'size': 34},
 {'text': 'riqueza', 'size': 34}];

var diameter = 600;
var color = d3.scale.category20b();

var bubble = d3.layout
               .pack()
               .sort(null)
               .size([diameter, diameter])
               .padding(5);

var svg = d3.select('#tree')
            .append('svg')
            .attr('width', diameter)
            .attr('height', diameter)
            .attr('class', 'bubble')

function main(data){
    data = data.map(d => { d.value = d.size; return d; });

    var nodes = bubble.nodes({children:data})
                      .filter(d => !d.children)

    var bubbles = svg.append('g')
                     .attr('transform', 'translate(0,0)')
                     .selectAll('.bubble')
                     .data(nodes)
                     .enter();

    bubbles.append('circle')
           .attr('r', d => d.r)
           .attr('cx', d => d.x)
           .attr('cy', d => d.y)
           .style('fill', d => color(d.value))

    bubbles.append('text')
           .attr('x', d => d.x)
           .attr('y', d => d.y + 5)
           .attr('text-anchor', 'middle')
           .text(d => d.text)
}


$(document).ready(function() {
    console.log((common))
    main(common);
});
